<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>6-2</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <style>
        #display{
            margin-bottom: 4px;
            width: 240px;
            height: 20px;
        }
        button{
            margin: 2px 0;
            width: 45px;
            height: 30px;
        }
    </style>
</head>
<body>
    <p>練習問題6-2</p>
    <input type="text" id="display">
    <br>
    <button id="delete">▷</button>
    <button id="btn7">7</button>
    <button id="btn8">8</button>
    <button id="btn9">9</button>
    <button id="divided">÷</button>
    <br>
    <button id="clear">C</button>
    <button id="btn4">4</button>
    <button id="btn5">5</button>
    <button id="btn6">6</button>
    <button id="times">×</button>
    <br>
    <button id="allclear">AC</button>
    <button id="btn1">1</button>
    <button id="btn2">2</button>
    <button id="btn3">3</button>
    <button id="minus">-</button>
    <br>
    <button id="btn0">0</button>
    <button id="btn00">00</button>
    <button id="dot">.</button>
    <button id="equal">=</button>
    <button id="plus">+</button>

    <script>
        let dis_str = "";
        let dis_str_bef = "";
        let dis_num;
        let btn_bef = "";

        // // ▷ボタンが押された場合
        // $("#delete").on("click", function(){
        //     dis_str = dis_str.slice(0, dis_str.length-1);
        // });
        // // Cボタンが押された場合
        // $("#clear").on("click", function(){
        //     dis_str = "";
        // });
        // // ACボタンが押された場合
        // $("#allclear").on("click", function(){
        //     dis_str_bef = dis_str;
        //     dis_str = "";
        // });
        // // =ボタンが押された場合
        // $("#equal").on("click", function(){
        //     dis_str_bef = dis_str;
        //     dis_str = "";
        // });
        // // .ボタンが押された場合
        // $("#dot").on("click", function(){
        //     //dis_str = Number(dis_str);
        // });
        
        $("button").on("click", function(){
            // 押されたボタンを取得
            let inp_id = $(this).attr("id");
            inp_btn = document.getElementById(inp_id).textContent;
            // console.log(inp_id);
            // console.log(inp_btn);

            if(inp_id=="delete"){
                // ▷ボタンが押された場合
                dis_str = dis_str.slice(0, dis_str.length-1);
            }else if(inp_id=="clear"){
                // Cボタンが押された場合
                dis_str = "";
            }else if(inp_id=="allclear"){
                // ACボタンが押された場合
                dis_str_bef = dis_str;
                dis_str = "";
            }else if(inp_id=="equal"){
                // =ボタンが押された場合
                dis_str_bef = dis_str;
                dis_str = dis_num;
            }else{
                // ディスプレイに文字列表示
                dis_str += inp_btn;
                console.log(Number(dis_str));
                console.log(typeof Number(dis_str));
            }

            // ディスプレイに文字列表示
            $("#display").val(dis_str);
        });
    </script>
</body>
</html>